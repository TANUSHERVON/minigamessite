<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fun Mini Games & QR Code (Image)</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 600px;
    margin: auto;
    padding: 10px;
    text-align: center;
  }
  h1 {
    margin-bottom: 5px;
  }
  #qr img {
    margin: 20px auto;
    width: 150px;
    height: 150px;
  }
  .game-section {
    margin: 30px 0;
    border-top: 1px solid #ccc;
    padding-top: 20px;
  }
  button {
    padding: 10px 15px;
    font-size: 16px;
    cursor: pointer;
  }
  #circle-game {
    position: relative;
    width: 300px;
    height: 200px;
    margin: 15px auto;
    border: 1px solid #ddd;
  }
  #circle {
    width: 40px;
    height: 40px;
    background: #4CAF50;
    border-radius: 50%;
    position: absolute;
    cursor: pointer;
  }
  #memory-board {
    max-width: 320px;
    margin: 10px auto;
    display: grid;
    grid-template-columns: repeat(4, 70px);
    grid-gap: 10px;
  }
  .card {
    width: 70px;
    height: 70px;
    background-color: #2196F3;
    color: white;
    font-size: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    user-select: none;
    border-radius: 8px;
  }
  .flipped {
    background-color: #f44336;
  }
  .matched {
    background-color: #4CAF50;
    cursor: default;
  }
  #guess-result,
  #word-guess-result {
    margin-top: 10px;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>Welcome to Fun Mini Games!</h1>

<div>
  <p>Scan this QR code to open this website on your phone:</p>
  <div id="qr"></div>
</div>

<div class="game-section" id="circle-game-section">
  <h2>1. Click the Circle</h2>
  <p>Click the green circle as many times as you can in 15 seconds!</p>
  <div id="circle-game">
    <div id="circle"></div>
  </div>
  <p>Score: <span id="circle-score">0</span></p>
  <button id="circle-start">Start Game</button>
  <p id="circle-timer"></p>
</div>

<div class="game-section" id="guess-game-section">
  <h2>2. Guess the Number</h2>
  <p>Guess a number between 1 and 100</p>
  <input type="number" id="guess-input" min="1" max="100" />
  <button id="guess-btn">Guess</button>
  <p id="guess-result"></p>
  <button id="guess-reset" style="display:none;">Play Again</button>
</div>

<div class="game-section" id="memory-game-section">
  <h2>3. Memory Cards</h2>
  <p>Match all pairs!</p>
  <div id="memory-board"></div>
  <button id="memory-reset">Restart Game</button>
</div>

<!-- New Game Section: Find the Word from Definition -->
<div class="game-section" id="word-game-section">
  <h2>4. Find the Word from Definition</h2>
  <p id="definition-text">Click "Start Game" to begin!</p>
  <input type="text" id="word-guess-input" placeholder="Type your guess here" autocomplete="off" />
  <button id="word-guess-btn">Guess</button>
  <button id="word-next-btn" style="display:none;">Next Word</button>
  <p id="word-guess-result"></p>
  <p>Tries left: <span id="word-tries-left">3</span></p>
  <button id="word-start-btn">Start Game</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script>
  // Generate QR code as an image inside #qr div
  const qrContainer = document.getElementById('qr');
  QRCode.toDataURL(window.location.href, { width: 150 })
    .then(url => {
      const img = document.createElement('img');
      img.src = url;
      img.alt = 'QR code';
      qrContainer.appendChild(img);
    })
    .catch(err => console.error(err));

  // --- Click the Circle Game ---
  const circle = document.getElementById('circle');
  const circleGame = document.getElementById('circle-game');
  const circleScoreEl = document.getElementById('circle-score');
  const circleTimerEl = document.getElementById('circle-timer');
  const circleStartBtn = document.getElementById('circle-start');
  let circleScore = 0;
  let circleTimeLeft = 15;
  let circleTimerId = null;
  let circleGameActive = false;

  function moveCircle() {
    const maxX = circleGame.clientWidth - circle.clientWidth;
    const maxY = circleGame.clientHeight - circle.clientHeight;
    const x = Math.random() * maxX;
    const y = Math.random() * maxY;
    circle.style.left = x + 'px';
    circle.style.top = y + 'px';
  }

  function circleGameTick() {
    circleTimeLeft--;
    circleTimerEl.textContent = `Time left: ${circleTimeLeft}s`;
    if (circleTimeLeft <= 0) {
      clearInterval(circleTimerId);
      circleTimerEl.textContent = 'Game Over!';
      circleGameActive = false;
      circle.style.display = 'none';
      circleStartBtn.disabled = false;
    }
  }

  circle.addEventListener('click', () => {
    if (!circleGameActive) return;
    circleScore++;
    circleScoreEl.textContent = circleScore;
    moveCircle();
  });

  circleStartBtn.addEventListener('click', () => {
    circleScore = 0;
    circleScoreEl.textContent = circleScore;
    circleTimeLeft = 15;
    circleTimerEl.textContent = `Time left: ${circleTimeLeft}s`;
    circleGameActive = true;
    circle.style.display = 'block';
    moveCircle();
    circleStartBtn.disabled = true;
    circleTimerId = setInterval(circleGameTick, 1000);
  });

  // --- Guess the Number Game ---
  const guessInput = document.getElementById('guess-input');
  const guessBtn = document.getElementById('guess-btn');
  const guessResult = document.getElementById('guess-result');
  const guessReset = document.getElementById('guess-reset');
  let secretNumber;
  let guessesLeft;

  function startGuessGame() {
    secretNumber = Math.floor(Math.random() * 100) + 1;
    guessesLeft = 7;
    guessResult.textContent = '';
    guessInput.value = '';
    guessInput.disabled = false;
    guessBtn.style.display = 'inline-block';
    guessReset.style.display = 'none';
  }

  guessBtn.addEventListener('click', () => {
    const guess = Number(guessInput.value);
    if (!guess || guess < 1 || guess > 100) {
      guessResult.textContent = 'Please enter a valid number between 1 and 100.';
      return;
    }
    guessesLeft--;
    if (guess === secretNumber) {
      guessResult.textContent = `ðŸŽ‰ Correct! The number was ${secretNumber}. You won!`;
      guessInput.disabled = true;
      guessBtn.style.display = 'none';
      guessReset.style.display = 'inline-block';
    } else if (guessesLeft <= 0) {
      guessResult.textContent = `ðŸ˜ž Game over! The number was ${secretNumber}.`;
      guessInput.disabled = true;
      guessBtn.style.display = 'none';
      guessReset.style.display = 'inline-block';
    } else if (guess < secretNumber) {
      guessResult.textContent = `Try higher! You have ${guessesLeft} guesses left.`;
    } else {
      guessResult.textContent = `Try lower! You have ${guessesLeft} guesses left.`;
    }
  });

  guessReset.addEventListener('click', startGuessGame);

  startGuessGame();

  // --- Memory Cards Game ---
  const memoryBoard = document.getElementById('memory-board');
  const memoryReset = document.getElementById('memory-reset');
  const icons = ['ðŸŽ','ðŸŒ','ðŸ‡','ðŸ‰','ðŸ“','ðŸ¥','ðŸ’','ðŸ'];
  let cards = [];
  let flippedCards = [];
  let matchedCount = 0;

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function createMemoryCards() {
    memoryBoard.innerHTML = '';
    cards = [];
    matchedCount = 0;
    flippedCards = [];
    const pairs = icons.concat(icons); // duplicate icons for pairs
    shuffle(pairs);

    pairs.forEach((icon, i) => {
      const card = document.createElement('div');
      card.classList.add('card');
      card.dataset.icon = icon;
      card.textContent = '';
      card.addEventListener('click', onCardClick);
      memoryBoard.appendChild(card);
      cards.push(card);
    });
  }

  function onCardClick(e) {
    const card = e.target;
    if (flippedCards.length === 2 || card.classList.contains('flipped') || card.classList.contains('matched')) return;

    card.classList.add('flipped');
    card.textContent = card.dataset.icon;
    flippedCards.push(card);

    if (flippedCards.length === 2) {
      if (flippedCards[0].dataset.icon === flippedCards[1].dataset.icon) {
        flippedCards.forEach(c => {
          c.classList.add('matched');
        });
        matchedCount += 2;
        flippedCards = [];
        if (matchedCount === cards.length) {
          setTimeout(() => alert('ðŸŽ‰ You matched all pairs!'), 100);
        }
      } else {
        setTimeout(() => {
          flippedCards.forEach(c => {
            c.classList.remove('flipped');
            c.textContent = '';
          });
          flippedCards = [];
        }, 1000);
      }
    }
  }

  memoryReset.addEventListener('click', createMemoryCards);

  createMemoryCards();

  // --- Find the Word from Definition Game ---
  const wordGame = (() => {
    const words = [
      { word: 'mars', definition: 'The red planet in our solar system.' },
      { word: 'gravity', definition: 'The force that pulls objects toward Earth.' },
      { word: 'asteroid', definition: 'A small rocky body orbiting the sun.' },
      { word: 'orbit', definition: 'The curved path of an object around a star or planet.' },
      { word: 'galaxy', definition: 'A huge system of stars, gas, and dust.' }
    ];

    let currentIndex = 0;
    let triesLeft = 3;
    let gameActive = false;

    const defText = document.getElementById('definition-text');
    const guessInput = document.getElementById('word-guess-input');
    const guessBtn = document.getElementById('word-guess-btn');
    const nextBtn = document.getElementById('word-next-btn');
    const resultText = document.getElementById('word-guess-result');
    const triesLeftText = document.getElementById('word-tries-left');
    const startBtn = document.getElementById('word-start-btn');

    function startGame() {
      currentIndex = 0;
      triesLeft = 3;
      gameActive = true;
      defText.textContent = words[currentIndex].definition;
      triesLeftText.textContent = triesLeft;
      resultText.textContent = '';
      guessInput.value = '';
      guessInput.disabled = false;
      guessBtn.disabled = false;
      nextBtn.style.display = 'none';
      startBtn.style.display = 'none';
      guessInput.style.display = 'inline-block';
      guessBtn.style.display = 'inline-block';
      guessInput.focus();
    }

    function checkGuess() {
      if (!gameActive) return;
      const guess = guessInput.value.trim().toLowerCase();
      if (!guess) {
        resultText.textContent = 'Please enter a guess.';
        return;
      }
      if (guess === words[currentIndex].word) {
        resultText.textContent = `ðŸŽ‰ Correct! The word was "${words[currentIndex].word}".`;
        guessInput.disabled = true;
        guessBtn.disabled = true;
        nextBtn.style.display = 'inline-block';
      } else {
        triesLeft--;
        if (triesLeft === 0) {
          resultText.textContent = `ðŸ˜ž Out of tries! The word was "${words[currentIndex].word}".`;
          guessInput.disabled = true;
          guessBtn.disabled = true;
          nextBtn.style.display = 'inline-block';
        } else {
          resultText.textContent = `Try again! Tries left: ${triesLeft}`;
          triesLeftText.textContent = triesLeft;
        }
      }
      guessInput.value = '';
      guessInput.focus();
    }

    function nextWord() {
      currentIndex++;
      if (currentIndex >= words.length) {
        defText.textContent = 'ðŸŽ‰ You finished all words! Click Start Game to play again.';
        guessInput.style.display = 'none';
        guessBtn.style.display = 'none';
        nextBtn.style.display = 'none';
        triesLeftText.textContent = '0';
        gameActive = false;
        startBtn.style.display = 'inline-block';
        resultText.textContent = '';
      } else {
        triesLeft = 3;
        defText.textContent = words[currentIndex].definition;
        triesLeftText.textContent = triesLeft;
        resultText.textContent = '';
        guessInput.disabled = false;
        guessBtn.disabled = false;
        guessInput.style.display = 'inline-block';
        guessBtn.style.display = 'inline-block';
        nextBtn.style.display = 'none';
        guessInput.focus();
      }
    }

    guessBtn.addEventListener('click', checkGuess);
    guessInput.addEventListener('keyup', e => {
      if (e.key === 'Enter') checkGuess();
    });
    nextBtn.addEventListener('click', nextWord);
    startBtn.addEventListener('click', startGame);

    return {
      startGame
    };
  })();
</script>

</body>
</html>
